{"version":3,"sources":["webpack:////Users/longting/Desktop/个人开发项目/xiaoMiShangCheng/代码/main.js","webpack:////Users/longting/Desktop/个人开发项目/xiaoMiShangCheng/代码/pages/search/search.vue?0c58","webpack:////Users/longting/Desktop/个人开发项目/xiaoMiShangCheng/代码/pages/search/search.vue?6cf1","webpack:////Users/longting/Desktop/个人开发项目/xiaoMiShangCheng/代码/pages/search/search.vue?c681","webpack:////Users/longting/Desktop/个人开发项目/xiaoMiShangCheng/代码/pages/search/search.vue?455c","webpack:////Users/longting/Desktop/个人开发项目/xiaoMiShangCheng/代码/pages/search/search.vue"],"names":["createPage","Page","data","historyList","uni","getStorageInfoSync","keyword","hot","name","cate","components","card","colorTag","unilist","onNavigationBarButtonTap","e","search","onNavigationBarSearchInputChanged","text","onNavigationBarSearchInputConfirmed","onLoad","history","getStorageSync","console","log","JSON","parse","methods","clearHistory","showModal","title","content","cancelText","confirmText","success","res","confirm","clearStorageSync","showToast","icon","hideKeyboard","addHistoryList","navigateTo","url","quickSearch","index","indexOf","unshift","splice","length","setStorageSync","stringify"],"mappings":"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","file":"pages/search/search.js","sourcesContent":["import 'uni-pages';import '@dcloudio/uni-stat';\n\nimport Vue from 'vue'\nimport Page from './pages/search/search.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./search.vue?vue&type=template&id=21b6c1e6&\"\nvar renderjs\nimport script from \"./search.vue?vue&type=script&lang=js&\"\nexport * from \"./search.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../../Applications/HBuilderX-Alpha.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"/Applications/HBuilderX-Alpha.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-hot-reload-api/dist/index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('21b6c1e6')) {\n      api.createRecord('21b6c1e6', component.options)\n    } else {\n      api.reload('21b6c1e6', component.options)\n    }\n    module.hot.accept(\"./search.vue?vue&type=template&id=21b6c1e6&\", function () {\n      api.rerender('21b6c1e6', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"Users/longting/Desktop/个人开发项目/xiaoMiShangCheng/代码/pages/search/search.vue\"\nexport default component.exports","export * from \"-!../../../../../../../../Applications/HBuilderX-Alpha.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../../Applications/HBuilderX-Alpha.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../../../../Applications/HBuilderX-Alpha.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../../Applications/HBuilderX-Alpha.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../../Applications/HBuilderX-Alpha.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Applications/HBuilderX-Alpha.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./search.vue?vue&type=template&id=21b6c1e6&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../../../Applications/HBuilderX-Alpha.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../Applications/HBuilderX-Alpha.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../../Applications/HBuilderX-Alpha.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../Applications/HBuilderX-Alpha.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Applications/HBuilderX-Alpha.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./search.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../../Applications/HBuilderX-Alpha.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../Applications/HBuilderX-Alpha.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../../Applications/HBuilderX-Alpha.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../Applications/HBuilderX-Alpha.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Applications/HBuilderX-Alpha.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./search.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport card from \"@/components/common/card.vue\"\nimport colorTag  from \"@/components/search/color-tag.vue\"\nimport unilist from \"@/components/uni-ui/uni-list-item/uni-list-item.vue\"\nexport default {\n\tdata() {\n\t\treturn {\n\t\t\thistoryList:uni.getStorageInfoSync('searchHistoryList'),\n\t\t\tkeyword:\"\",\n\t\t\thot:[\n\t\t\t\t{ name:'领券中心' },\n\t\t\t\t{ name:'Redmi K20' },\n\t\t\t\t{ name:'RedmiBook 14' },\n\t\t\t\t{ name:'智能积木 越野四驱车' },\n\t\t\t\t{ name:'手环 腕带' },\n\t\t\t],\n\t\t\tcate:[\n\t\t\t\t{\"name\":'耳机'},\n\t\t\t\t{\"name\":'手机'},\n\t\t\t\t{\"name\":'音响'},\n\t\t\t\t{\"name\":'手表'},\n\t\t\t\t{\"name\":'配件'},\n\t\t\t\t{\"name\":'网管/传感器'},\n\t\t\t\t{\"name\":'健康'},\n\t\t\t\t{\"name\":'酷玩'}\n\t\t\t\t\n\t\t\t]\n\t\t}\n\t},\n\tcomponents:{\n\t\tcard,\n\t\tcolorTag,\n\t\tunilist\n\t},\n\t// 点击原生标题栏搜索跳转\n\tonNavigationBarButtonTap(e){\n\t\tthis.search()\n\t},\n\t// 监听搜索框的变化\n\tonNavigationBarSearchInputChanged(e) {\n\t\tthis.keyword = e.text\n\t},\n\tonNavigationBarSearchInputConfirmed() {\n\t\tthis.search()\n\t},\n\tonLoad() {\n\t\tlet history = uni.getStorageSync('searchHistoryList')\n\t\tconsole.log(history)\n\t\tthis.historyList=history ? JSON.parse(history):[]\n\t},\n\tmethods: {\n\t\t// 清楚搜索记录\n\t\tclearHistory(){\n\t\t\tuni.showModal({\n\t\t\t\ttitle:\"提示\",\n\t\t\t\tcontent:\"是否要清楚搜索历史\",\n\t\t\t\tcancelText:\"取消\",\n\t\t\t\tconfirmText:\"清除\",\n\t\t\t\tsuccess:(res)=> {\n\t\t\t\t\tif(res.confirm){\n\t\t\t\t\t\tuni.clearStorageSync()\n\t\t\t\t\t\tthis.historyList=[]\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})\n\t\t},\n\t\tsearch(){\n\t\t\tif(this.keyword===\"\"){\n\t\t\t\treturn uni.showToast({\n\t\t\t\t\ttitle:\"关键词不能为空\",\n\t\t\t\t\ticon:\"none\"\n\t\t\t\t})\n\t\t\t}\n\n\n\n\n\t\t\tuni.hideKeyboard()\n\n\t\t\t// 把搜索内容加入搜索记录中\n\t\t\tthis.addHistoryList()\n\t\t\tuni.navigateTo({\n\t\t\t\turl:\"../search-list/search-list?keyword=\"+this.keyword,\n\t\t\t\tsuccess:()=> {\n\t\t\t\t\tthis.addHistoryList()\n\t\t\t\t}\n\t\t\t})\n\t\t},\n\t\t// 多色按钮\n\t\tquickSearch(name){\n\t\t\tthis.keyword = name\n\t\t\tthis.search()\n\t\t},\n\t\taddHistoryList(){\n\t\t\tlet index = this.historyList.indexOf(this.keyword)\n\t\t\tif(index===-1){\n\t\t\t\tthis.historyList.unshift(this.keyword)\n\t\t\t}else{\n\t\t\t\tthis.historyList.unshift(this.historyList.splice(index,1)[0]) \n\t\t\t}\n\t\t\t// 移除最后一条\n\t\t\tif(this.historyList.length>5){\n\t\t\t\tthis.historyList.splice(this.historyList.length-1,1)\n\t\t\t}\n\t\t\tuni.setStorageSync('searchHistoryList',JSON.stringify(this.historyList))\n\t\t}\n\t}\n}\n"],"sourceRoot":""}